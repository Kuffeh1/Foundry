if (args[0].hitTargets[0] !== undefined) 
{
const lastArg = args[args.length - 1];
let tactor;
if (lastArg.tokenId) tactor = canvas.tokens.get(lastArg.tokenId).actor;
else tactor = game.actors.get(lasatArg.actorId);
let target = canvas.tokens.get(args[0].hitTargets[0]?._id); 

let undead = ["undead"].some(type => (target?.actor.data.data.details.type?.value || "").toLowerCase().includes(type));
let damageRoll = new Roll(args[0].isCritical ? "1d6 + 6" : "1d6").roll(); 
let undeadRoll = new Roll(args[0].isCritical ? "2d6 + 12" : "2d6").roll(); 

let dawn = tactor.effects.find(i=> i.data.label === "Crimson Rite - Dawn");

if(!dawn){ // not there
}
 else if (target == undead) { 
           new MidiQOL.DamageOnlyWorkflow(actor, token, undeadRoll.total, "radiant", target ? [target] : [], undeadRoll, {flavor: "Radiant damage against undead", itemCardId: args[0].itemCardId});}
  else (target !== undead) {
        new MidiQOL.DamageOnlyWorkflow(actor, token, damageRoll.total, "radiant", target ? [target] : [], damageRoll, {flavor: "Radiant", itemCardId: args[0].itemCardId});}
     } }
  
